
# ğŸ“–1ì¥ ë°ì´í„° ì¡°íšŒí•˜ê¸°

## SQL ê¸°ë³¸ íŠ¹ì§•

- ëŒ€ì†Œë¬¸ìë¥¼ êµ¬ë³„í•˜ì§€ ì•ŠëŠ”ë‹¤. (ì¼ë°˜ì ìœ¼ë¡œ í‚¤ì›Œë“œëŠ” ëŒ€ë¬¸ìë¡œ, ê·¸ ì™¸ ë‹¨ì–´ëŠ” ì†Œë¬¸ìë¡œ ì…ë ¥í•œë‹¤.)

```sql
show databases; # í˜„ì¬ ì„œë²„ì—ì„œ ì–´ë–¤ ë°ì´í„°ë² ì´ìŠ¤ê°€ ìˆëŠ”ì§€ ì¡°íšŒí•œë‹¤.
use employees; # employees ë°ì´í„°ë² ì´ìŠ¤(ìŠ¤í‚¤ë§ˆ)ë¥¼ ì‚¬ìš©í•˜ê² ë‹¤ëŠ” í‘œì‹œ, í˜¹ì€ ìŠ¤í‚¤ë§ˆ ë”ë¸”í´ë¦­
show tables; # employees(ìŠ¤í‚¤ë§ˆ)ì˜ í…Œì´ë¸” í‘œì‹œ
desc employees; # employees í…Œì´ë¸”ì˜ í•„ë“œê°€ ë¬´ì—‡ì¸ì§€ í™•ì¸í•œë‹¤. (employessëŠ” ë°–ì— ìˆëŠ” ìŠ¤í‚¤ë§ˆì™€ ì•ˆì— ìˆëŠ” í…Œì´ë¸” ë‘ì¢…ë¥˜ê°€ ìˆëŠ”ë° ê·¸ ì¤‘ í…Œì´ë¸”ì˜ ì—´)
select * from titles; # íƒ€ì´í‹€ì´ë€ í…Œì´ë¸” í•„ë“œì˜ ì—´ë“¤
```

### Tip> ë°ì´í„°ë² ì´ìŠ¤ ê°œì²´ì˜ ì´ë¦„ ê·œì¹™

> ë°ì´í„°ë² ì´ìŠ¤(=ìŠ¤í‚¤ë§ˆ) ê°œì²´ì˜ ì´ë¦„ì„ ì‹ë³„ìë¼ê³  í•œë‹¤. ë°ì´í„°ë² ì´ìŠ¤ ê°œì²´ë€ ë°ì´í„°ë² ì´ìŠ¤, í…Œì´ë¸”, ì—´, ì¸ë±ìŠ¤, ë·°, íŠ¸ë¦¬ê±°, ìŠ¤í† ì–´ë“œ í”„ë¡œì‹œì € ë“±ê³¼ ê°™ì€ ê°œì²´ë¥¼ ì˜ë¯¸í•œë‹¤. MySQLì—ì„œëŠ” ì´ëŸ¬í•œ ê°œì²´ë¥¼ ì •ì˜í•  ë•Œ ëª‡ê°€ì§€ ê·œì¹™ì„ ë”°ë¼ì•¼ í•œë‹¤.
> 
- ì˜ë¬¸ ëŒ€, ì†Œë¬¸ì, ìˆ«ì, íŠ¹ìˆ˜ë¬¸ì($, _)ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. í•˜ì§€ë§Œ ì˜ë¬¸ì€ ëŒ€ë¬¸ìë¥¼ ì‚¬ìš©í•´ë„ ì†Œë¬¸ìë¡œ ìƒì„±ëœë‹¤.
- ìµœëŒ€ 64ìë¡œ ì œí•œëœë‹¤.
- ì˜ˆì•½ì–´ë¥¼ ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤.
- ì›ì¹™ì ìœ¼ë¡œ ê³µë°±ì„ ì‚¬ìš©í•  ìˆ˜ ì—†ìœ¼ë‚˜ ê³µë°±ì„ ì‚¬ìš©í•  ê²½ìš° â€˜ â€™ë¡œ ë¬¶ì–´ì•¼ í•œë‹¤.
- ê¶Œì¥ê°œì²´ëª…ì€ ì•Œê¸° ì‰½ê²Œ ëª…ëª…í•  ê²ƒ.
- Linuxì—ì„œëŠ” ëª¨ë‘ ì†Œë¬¸ìë¡œ ì‚¬ìš©í•˜ë¯€ë¡œ ê°œì²´ëª…ì€ ì†Œë¬¸ìë¡œ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ í¸ë¦¬í•¨.

---  

<br>

## SELECT ë¬¸

- ê¸°ë³¸ì ì¸ select ë¬¸

> SELECT í•„ë“œì´ë¦„ FROM í…Œì´ë¸”ì´ë¦„;
> 

```sql
select first_name, last_name from employees; # íŠ¹ì • ì—´ì— ëŒ€í•œ ì¡°íšŒ
select first_name AS ì´ë¦„, gender As ì„±ë³„, hire_date AS 'íšŒì‚¬ ì…ì‚¬ì¼' from employees;
# ìœ„ì˜ ê²½ìš°ì™€ ê°™ì´ ë³„ì¹­í˜•ì‹ìœ¼ë¡œ ì €ì¥ ê°€ëŠ¥.

-- ì£¼ì„ì€ -- í˜¹ì€ # ì‚¬ìš©.
```

<br>

- íŠ¹ì •í•œ ì¡°ê±´ì˜ ë°ì´í„°ë¥¼ ì¡°íšŒí•˜ëŠ” where ì ˆ

> SELECT í•„ë“œì´ë¦„ FROM í…Œì´ë¸”ì´ë¦„ WHERE ì¡°ê±´ì‹;
> 

```sql
select * from usertbl where name = "ê¹€ê²½í˜¸"; 
# í° ë”°ì˜´í‘œ ì•ˆí•´ì£¼ë©´ ë¬¸ìì—´ë¡œ ì¸ì‹ì•ˆí•˜ê³  í•„ë“œë‚˜ í…Œì´ë¸”ë¡œ ì¸ì‹í•œë‹¤.
```

<br>

- ê´€ê³„ì—°ì‚°ìë¥¼ ì´ìš©í•œ select ë¬¸

> 1970ë…„ ì´í›„ì— ì¶œìƒí•˜ê³  ì‹ ì¥ì´ 182 ì´ìƒì¸ ì‚¬ëŒì˜ ì•„ì´ë””ì™€ ì´ë¦„ì„ ì¡°íšŒí•´ ë³´ì
> 

```sql
# SQLì€ AND, OR, NOT ì—°ì‚°ìë¥¼ ì‚¬ìš©í•œë‹¤ (&, | ëŠ” ì‚¬ìš©í•˜ì§€ ì•ŠìŒ)

select userID, name, birthYear, height from usertbl where birthYear >= 1970 and height >= 182;
```

<br>

- Between â€¦ and ì™€ IN() ê·¸ë¦¬ê³  Like

> BEWTEEN : ì—°ì†ì ì¸ ê°’ì˜ ì¡°íšŒ, IN() : ì´ì‚°ì ì¸ ê°’ì˜ ì¡°íšŒ
> 
> 
> LIKE ì—°ì‚°ìëŠ” WHERE ì ˆì—ì„œ ì—´ì—ì„œ ì§€ì •ëœ íŒ¨í„´ì„ ê²€ìƒ‰í•˜ëŠ” ë° ì‚¬ìš©ë©ë‹ˆë‹¤.
> 

```sql
SELECT name, height FROM usertbl WHERE height >= 180 AND height <= 183; # andì˜ ê²½ìš°
SELECT name, height FROM usertbl WHERE height BETWEEN 180 AND 183; # Between ... and

select name, addr from usertbl where addr = "ê²½ë‚¨" or addr = "ì „ë‚¨" or addr = "ê²½ë¶"; #ORë¥¼ ì´ìš©
select name, addr from usertbl where addr in("ê²½ë‚¨", "ì „ë‚¨", "ê²½ë¶"); # IN()ì˜ ê²½ìš°

select name, height from usertbl where name like "ê¹€%"; # ê¹€ë²”ìˆ˜, ê¹€ê²½í˜¸
select name, height from usertbl where name like "_ì¢…ì‹ "; # ìœ¤ì¢…ì‹ 
```

â€”> IN()ì˜ ê²½ìš° ë°±ë¶„ìœ¨ ê¸°í˜¸(%)ëŠ” 0ê°œ, 1ê°œ ë˜ëŠ” ì—¬ëŸ¬ê°œ ë¬¸ìë¥¼ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤.<br>
              ë°‘ì¤„ ê¸°í˜¸(_)ëŠ” í•˜ë‚˜ì˜ ë‹¨ì¼ ë¬¸ìë¥¼ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤.

---

<br>

## ANY/ALL/SOME ê·¸ë¦¬ê³  ì„œë¸Œì¿¼ë¦¬(SubQuery, í•˜ìœ„ì¿¼ë¦¬)

- ì„œë¸Œ ì¿¼ë¦¬ : ì¿¼ë¦¬ë¬¸ ì•ˆì— ì¿¼ë¦¬ë¬¸ì´ ë“¤ì–´ ìˆëŠ” ê²ƒ

> í•˜ì§€ë§Œ í•˜ìœ„ ì¿¼ë¦¬ê°€ ë‘˜ ì´ìƒì˜ ê°’ì„ ë°˜í™˜í•˜ê²Œ ë˜ë©´ errê°€ ë‚˜ì˜¤ê¸° ë•Œë¬¸ì— ì´ë•Œ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ANY/ALL/SOME ì´ë‹¤.
> 

```sql
SELECT name, height FROM usertbl WHERE height > (select height from usertbl where name = "ê¹€ê²½í˜¸");
```

<br>

- ANY ì—°ì‚°ì / SOME ì—°ì‚°ì

> any ì—°ì‚°ìì˜ ê²½ìš° ì—°ì‚°ì´ ë²”ìœ„ì˜ ê°’ ì¤‘ í•˜ë‚˜ì— ëŒ€í•´ ì°¸ì¼ ê²½ìš° ì¡°ê±´ì´ ì°¸ì„ì„ ì˜ë¯¸í•©ë‹ˆë‹¤. (OR)
> 

```sql
select name, height from usertbl where height >= (select height from usertbl where addr = "ê²½ë‚¨"); # err
# select height from usertbl where addr = "ê²½ë‚¨"ì˜ ê°’ì´ 173, 170 ë‘ê°œê°€ ë‚˜ì™€ì„œ errê°€ ë‚˜ì˜¤ì§€ë§Œ

select name, height from usertbl where height >= any (select height from usertbl where addr = "ê²½ë‚¨");
# ì´ë ‡ê²Œ any ì—°ì‚°ìë¥¼ ì‚¬ìš©í•˜ë©´ ê°€ëŠ¥í•˜ë‹¤. ì¦‰, 173ì´ìƒì´ê±°ë‚˜ 170ì´ìƒì¸ ì‚¬ëŒ ëª¨ë‘ë¥¼ ë§í•œë‹¤. (ORê³¼ ë¹„ìŠ·)
# anyë¥¼ someìœ¼ë¡œ ë°”ê¿”ë„ ê²°ê³¼ê°€ ê°™ë‹¤.
```

<br>

### â€¼ =any ì„œë¸Œì¿¼ë¦¬ëŠ” IN() ì„œë¸Œì¿¼ë¦¬ì™€ ê°™ì€ ì—­í• ì„ í•œë‹¤.

```sql
select name, height from usertbl where height = any (select height from usertbl where addr = "ê²½ë‚¨");

select name, height from usertbl where height IN (select height from usertbl where addr = "ê²½ë‚¨");

# ë‘˜ë‹¤ ê°™ì€ ê°’
```

<br>

- ALL ì—°ì‚°ì

> ALLì€ ì—°ì‚°ì´ ë²”ìœ„ì˜ ëª¨ë“  ê°’ì— ëŒ€í•´ ì°¸ì¸ ê²½ìš°ì—ë§Œ ì¡°ê±´ì´ ì°¸ì„ì„ ì˜ë¯¸í•©ë‹ˆë‹¤. (AND) ëŠë‚Œ
> 

```sql
SELECT name, height FROM usertbl WHERE height >= ALL (SELECT height FROM usertbl WHERE addr = 'ê²½ë‚¨');
# 170 ì´ìƒ ì´ê³ , 173ì´ìƒ ì´ê¸°ë„ í•´ì•¼í•œë‹¤.
```

---

<br>

## ORDER BY ìˆœì„œëŒ€ë¡œ ì¶œë ¥

> ORDER BY í‚¤ì›Œë“œëŠ” ê¸°ë³¸ì ìœ¼ë¡œ ì˜¤ë¦„ì°¨ìˆœìœ¼ë¡œ ë ˆì½”ë“œë¥¼ ì •ë ¬í•œë‹¤. ë ˆì½”ë“œë¥¼ ë‚´ë¦¼ì°¨ìˆœìœ¼ë¡œ ì •ë ¬í•˜ë ¤
ë©´ DESC í‚¤ì›Œë“œë¥¼ ì‚¬ìš©í•˜ë©´ ëœë‹¤.
> 

```sql
SELECT name, mDate FROM usertbl ORDER BY mDate; # ê¸°ë³¸ ì˜¤ë¦„ì°¨ìˆœ ì •ë ¬

SELECT name, mDate FROM usertbl ORDER BY mDate desc; # ë‚´ë¦¼ì°¨ìˆœ ì •ë ¬

SELECT name, height FROM usertbl ORDER BY height DESC, name ASC; 
# í‚¤ ìˆœìœ¼ë¡œ ì •ë ¬í•˜ë˜ ë§Œì•½ í‚¤ê°€ ê°™ì„ ê²½ìš° ì´ë¦„ ìˆœìœ¼ë¡œ ì •ë ¬í•˜ì. ASC(ì˜¤ë¦„ì°¨ìˆœ)ì€ ë””í´íŠ¸ì´ë¯€ë¡œ ìƒëµ ê°€ëŠ¥.
```

---

<br>

## DISTINCT

> í‘œ ë‚´ë¶€ì˜ ì—´ì—ëŠ” ì¢…ì¢… ì¤‘ë³µëœ ê°’ì´ ë§ì´ í¬í•¨ë˜ì–´ ìˆìœ¼ë©°, ë•Œë¡œëŠ” ì„œë¡œ ë‹¤ë¥¸(ê³ ìœ í•œ) ê°’ë§Œ ë‚˜ì—´í•˜ë ¤
ê³  í•  ë•Œ ì‚¬ìš©í•œë‹¤.
> 

```sql
SELECT DISTINCT addr FROM usertbl;
```

---

<br>

## LIMIT

> ì¶œë ¥ë˜ëŠ” ê°¯ìˆ˜ë¥¼ ì œí•œí•œë‹¤.
> 

```sql
use employees;
select emp_no, hire_date from employees order by hire_date asc limit 5;
# ìƒìœ„ 5ê°œë§Œ ì¶œë ¥ ëœë‹¤.

select emp_no, hire_date from employees limit 0, 10; # 0ë²ˆì§¸ ì¸ë±ìŠ¤ë¶€í„° 10ê°œ (1~10)
select emp_no, hire_date from employees limit 10, 10; # 10ë²ˆ ì¸ë±ìŠ¤ ë¶€í„° 10ê°œ (11~20)
```

---

<br>

## í…Œì´ë¸”ì„ ë³µì‚¬í•˜ëŠ” CREATE TABLE ... SELECT

> ê¸°ì¡´ í…Œì´ë¸”ì˜ ë³µì‚¬ëœ í…Œì´ë¸”ì„ ë§Œë“ ë‹¤.
> 

```sql
use sqldb;
create table buytbl1 as (select * from buytbl);
select * from buytbl1;

create table buytbl2 as (select userid, prodname from buytbl);
select * from buytbl2;
# ì´ ê²½ìš°ëŠ” userid, prodnameì— ëŒ€í•´ì„œë§Œ ë³µì‚¬í•´ì˜¨ë‹¤.
```

---

<br>

## GROUP BYì ˆ

> GROUP BY ë¬¸ì€ ë™ì¼í•œ ê°’ì„ ê°€ì§„ í–‰ì„ ìš”ì•½ í–‰ìœ¼ë¡œ ê·¸ë£¹í™” í•œë‹¤.
> 
> 
> GROUP BY ë¬¸ì€ ì¢…ì¢… ê²°ê³¼ ì§‘í•©ì„ í•˜ë‚˜ ì´ìƒì˜ ì—´ë¡œ ê·¸ë£¹í™”í•˜ê¸° ìœ„í•´ ì§‘ê³„ í•¨ìˆ˜(COUNT(), MAX(),
> MIN(), SUM(), AVG())ì™€ í•¨ê»˜ ì‚¬ìš©ëœë‹¤.
> 

- Ex> êµ¬ë§¤ í…Œì´ë¸”(buyTbl)ì—ì„œ ì‚¬ìš©ì(userID)ê°€ êµ¬ë§¤í•œ ë¬¼í’ˆì˜ ê°œìˆ˜ë¥¼ ë³´ë ¤ê³  í•œë‹¤.

```sql
select userid as "ì‚¬ìš©ì ì•„ì´ë””", sum(amount) as "ì´ êµ¬ë§¤ ê°œìˆ˜" from buytbl group by userid;
# asë¥¼ ì´ìš©í•˜ì—¬ ë³„ì¹­ì„ ìƒì„±í•˜ê³  sum í•¨ìˆ˜ë¥¼ ì‚¬ìš©í–ˆë‹¤.

select userid as "ì‚¬ìš©ì ì•„ì´ë””", sum(price * amount) as "ì´ êµ¬ë§¤ì•¡" from buytbl group by userid;
# user idë³„ sum(price * amount)ë¥¼ ë”°ë¡œ êµ¬í•´ì¤€ë‹¤.
```

<br>

- Ex> ê° ì‚¬ìš©ìë³„ë¡œ í•œ ë²ˆ êµ¬ë§¤ ì‹œ ë¬¼í’ˆ ê°¯ìˆ˜ì˜ í‰ê· ì„ êµ¬í•´ë³´ì.

```sql
select avg(amount) as "í‰ê·  êµ¬ë§¤ ê°œìˆ˜" from buytbl;
# ê·¸ë£¹ë³„ì´ ì•„ë‹ˆê¸° ë•Œë¬¸ì— ëª¨ë“ ê²ƒì˜ amount í‰ê· ì„ ë‚´ì¤€ë‹¤.
2.9167

select userid, avg(amount) as "í‰ê·  êµ¬ë§¤ ê°œìˆ˜" from buytbl group by userid;
# ì´ ê²½ìš°ëŠ” useridë³„ì˜ í‰ê·  

userid í‰ê· êµ¬ë§¤ê°œìˆ˜
BBK	    4.7500
EJW	    1.3333
JYP	    1.0000
KBS	    2.0000
SSK	    5.0000
```

<br>

- ê°€ì¥ í° í‚¤ì™€ ê°€ì¥ ì‘ì€ í‚¤ì˜ íšŒì› ì´ë¦„ê³¼ í‚¤ë¥¼ ì¶œë ¥í•˜ëŠ” ì¿¼ë¦¬ë¥¼ ë§Œë“¤ì–´ë³´ì.

```sql
select max(height), min(height) from usertbl; # ì´ë ‡ê²Œ í•˜ëŠ” ê²½ìš° ëˆ„êµ¬ì˜ í‚¤ ì¸ì§€ ëª¨ë¥¸ì±„ë¡œ 186 166ì´ ë‚˜ì˜¨ë‹¤.

select name, max(height), min(height) from usertbl group by name;
# ì´ë ‡ê²Œ í•˜ëŠ”ê²½ìš° ëˆ„êµ¬ì˜ í‚¤ì¸ì§€ëŠ” ì•Œ ìˆ˜ ìˆì§€ë§Œ, nameìœ¼ë¡œ ê·¸ë£¹í™” í–ˆê¸° ë•Œë¬¸ì— ìì‹ ì˜ í‚¤ë§Œ ë‚˜ì˜¤ê²Œ ëœë‹¤.
ë°”ë¹„í‚´	176	176      ì´ëŸ° ì‹ìœ¼ë¡œ
ì€ì§€ì›	174	174

select name, height from usertbl where height = (select max(height) from usertbl);
# ì„±ì‹œê²½	186 ê°€ì¥ í° ì‚¬ëŒì„ êµ¬í•˜ëŠ” ì¡°ê±´ì‹

select name, height from usertbl where height = (select min(height) from usertbl);
# ì¡°ìš©í•„	166 ê°€ì¥ ì‘ì€ ì‚¬ëŒì„ êµ¬í•˜ëŠ” ì¡°ê±´ì‹

select name, height from usertbl 
where height = (select max(height) from usertbl) or height = (select min(height) from usertbl);
# ê²°ë¡  
ì¡°ìš©í•„	166
ì„±ì‹œê²½	186
```

<br>

- count í•¨ìˆ˜ ì´ìš©

```sql
select count(mobile1) from usertbl; # íœ´ëŒ€í°ì´ ìˆëŠ” ì‚¬ëŒì˜ ìˆ˜

select count(addr) from usertbl; # addrí•„ë“œê°€ ìˆëŠ” ì‚¬ëŒì˜ ìˆ˜

select count(distinct addr) from usertbl; # addrí•„ë“œê°€ ê²¹ì¹˜ì§€ ì•ŠëŠ” ì‚¬ëŒì˜ ìˆ˜
```
---
